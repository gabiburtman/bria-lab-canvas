@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Google+Sans:wght@400;500;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Bria 4 Lab Design System - Minimalist Dark Mode Interface */

@layer base {
  :root {
    /* Bria Lab Dark Mode Colors */
    --lab-primary: 261 81% 71%; /* #8B5CF6 - Vibrant purple for primary actions */
    --lab-primary-hover: 261 81% 65%; /* Darker purple for hover states */
    --lab-primary-foreground: 0 0% 100%; /* White text on purple */
    --lab-primary-glow: 261 81% 71%; /* Purple glow for focus states */
    
    /* Dark Mode Background System */
    --lab-background: 216 4% 23%; /* #38393d - Dark gray background */
    --lab-surface: 216 13% 15%; /* #21252b - Darker gray for panels and cards */
    --lab-surface-elevated: 216 13% 17%; /* Slightly lighter for elevated surfaces */
    
    /* Dark Mode Text Hierarchy */
    --lab-text-primary: 217 33% 97%; /* #F3F4F6 - Light off-white for high readability */
    --lab-text-secondary: 220 14% 66%; /* #9CA3AF - Lighter grey for labels and secondary text */
    --lab-text-muted: 220 14% 56%; /* Slightly darker grey for muted text */
    
    /* Dark Mode Border System */
    --lab-border: 217 19% 27%; /* #374151 - Subtle grey borders */
    --lab-border-focus: 261 81% 71%; /* Purple focus states */
    --lab-border-hover: 217 19% 32%; /* Lighter grey for hover states */
    
    /* Status Colors (Dark Mode Adjusted) */
    --lab-success: 142 76% 46%; /* Brighter green for dark backgrounds */
    --lab-warning: 38 92% 60%; /* Brighter orange for dark backgrounds */
    --lab-error: 0 84% 70%; /* Brighter red for dark backgrounds */
    
    /* Dark Mode Interactive States */
    --lab-interactive-hover: 217 19% 24%; /* Subtle dark hover background */
    --lab-active: 217 19% 21%; /* Slightly darker active state */
    --lab-disabled: 217 19% 20%; /* Disabled background */
    --lab-accent: 261 81% 71%; /* Purple accent for interactive elements */
    
    /* Minimal Elevation (No Heavy Shadows) */
    --lab-glow-subtle: 0 0 0 1px hsl(var(--lab-border-hover));
    --lab-glow-focus: 0 0 0 2px hsl(var(--lab-primary-glow) / 0.3);
    --lab-glow-primary: 0 0 16px hsl(var(--lab-primary) / 0.2);
    
    /* Layout & Spacing (8px grid, 6px radius) */
    --lab-radius: 0.375rem; /* 6px sharp modern radius */
    --lab-radius-sm: 0.25rem; /* 4px for smaller elements */
    --lab-radius-lg: 0.5rem; /* 8px for larger cards */
    
    /* JSON Editor Dark Theme */
    --lab-code-bg: 220 43% 12%; /* Darker than main background */
    --lab-code-text: 217 33% 95%; /* Light text */
    --lab-code-highlight: 261 81% 76%; /* Brighter purple highlights */
    --lab-code-line: 217 19% 15%; /* Line number background */
    --lab-code-border: 217 19% 20%; /* Code editor border */
    
    /* Animation Timing */
    --lab-transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    --lab-transition-fast: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Updated Field Indicators - High Contrast */
    --lab-updated: 142 76% 56%; /* Bright green for updated fields */
    --lab-updated-bg: 142 76% 56%; /* Updated background with opacity */
    --lab-updated-border: 142 76% 66%; /* Brighter border for updated fields */
    --lab-updated-glow: 142 76% 56%; /* Green glow for updated field animation */
    --lab-updated-pulse: 142 86% 66%; /* Brighter green for pulse animation */
    
    /* Apply Dark Mode theme to shadcn variables */
    --background: var(--lab-background);
    --foreground: var(--lab-text-primary);
    --card: var(--lab-surface);
    --card-foreground: var(--lab-text-primary);
    --popover: var(--lab-surface);
    --popover-foreground: var(--lab-text-primary);
    --primary: var(--lab-primary);
    --primary-foreground: var(--lab-primary-foreground);
    --secondary: var(--lab-hover);
    --secondary-foreground: var(--lab-text-primary);
    --muted: var(--lab-hover);
    --muted-foreground: var(--lab-text-secondary);
    --accent: var(--lab-active);
    --accent-foreground: var(--lab-text-primary);
    --destructive: var(--lab-error);
    --destructive-foreground: var(--lab-text-primary);
    --border: var(--lab-border);
    --input: var(--lab-border);
    --ring: var(--lab-border-focus);
    --radius: var(--lab-radius);
  }

  .light {
    /* Bria Lab Light Mode Colors */
    --lab-primary: 261 81% 71%; /* Keep same purple for primary actions */
    --lab-primary-hover: 261 81% 65%; /* Darker purple for hover states */
    --lab-primary-foreground: 0 0% 100%; /* White text on purple */
    --lab-primary-glow: 261 81% 71%; /* Purple glow for focus states */
    
    /* Light Mode Background System */
    --lab-background: 0 0% 100%; /* Pure white background */
    --lab-surface: 220 14% 96%; /* Light gray for panels and cards */
    --lab-surface-elevated: 0 0% 100%; /* White for elevated surfaces */
    
    /* Light Mode Text Hierarchy */
    --lab-text-primary: 217 33% 17%; /* Dark gray for high readability */
    --lab-text-secondary: 220 14% 46%; /* Medium gray for labels and secondary text */
    --lab-text-muted: 220 14% 66%; /* Lighter gray for muted text */
    
    /* Light Mode Border System */
    --lab-border: 220 14% 86%; /* Light gray borders */
    --lab-border-focus: 261 81% 71%; /* Purple focus states */
    --lab-border-hover: 220 14% 76%; /* Darker gray for hover states */
    
    /* Status Colors (Light Mode Adjusted) */
    --lab-success: 142 76% 36%; /* Darker green for light backgrounds */
    --lab-warning: 38 92% 50%; /* Darker orange for light backgrounds */
    --lab-error: 0 84% 60%; /* Darker red for light backgrounds */
    
    /* Light Mode Interactive States */
    --lab-interactive-hover: 220 14% 94%; /* Subtle light hover background */
    --lab-active: 220 14% 91%; /* Slightly darker active state */
    --lab-disabled: 220 14% 88%; /* Disabled background */
    --lab-accent: 261 81% 71%; /* Purple accent for interactive elements */
    
    /* Light Mode Elevation */
    --lab-glow-subtle: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --lab-glow-focus: 0 0 0 2px hsl(var(--lab-primary-glow) / 0.2);
    --lab-glow-primary: 0 4px 12px hsl(var(--lab-primary) / 0.15);
    
    /* JSON Editor Light Theme */
    --lab-code-bg: 220 14% 98%; /* Very light gray background */
    --lab-code-text: 217 33% 20%; /* Dark text */
    --lab-code-highlight: 261 81% 66%; /* Purple highlights */
    --lab-code-line: 220 14% 94%; /* Line number background */
    --lab-code-border: 220 14% 88%; /* Code editor border */
    
    /* Updated Field Indicators - Light Mode */
    --lab-updated: 142 76% 36%; /* Darker green for updated fields */
    --lab-updated-bg: 142 76% 36%; /* Updated background with opacity */
    --lab-updated-border: 142 76% 46%; /* Green border for updated fields */
    --lab-updated-glow: 142 76% 36%; /* Green glow for updated field animation */
    --lab-updated-pulse: 142 86% 46%; /* Green for pulse animation */
    
    /* Apply Light Mode theme to shadcn variables */
    --background: var(--lab-background);
    --foreground: var(--lab-text-primary);
    --card: var(--lab-surface);
    --card-foreground: var(--lab-text-primary);
    --popover: var(--lab-surface);
    --popover-foreground: var(--lab-text-primary);
    --primary: var(--lab-primary);
    --primary-foreground: var(--lab-primary-foreground);
    --secondary: var(--lab-interactive-hover);
    --secondary-foreground: var(--lab-text-primary);
    --muted: var(--lab-interactive-hover);
    --muted-foreground: var(--lab-text-secondary);
    --accent: var(--lab-active);
    --accent-foreground: var(--lab-text-primary);
    --destructive: var(--lab-error);
    --destructive-foreground: var(--lab-text-primary);
    --border: var(--lab-border);
    --input: var(--lab-border);
    --ring: var(--lab-border-focus);
    --radius: var(--lab-radius);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-roboto;
  }
}

/* JSON Editor Syntax Highlighting */
.text-lab-code-key {
  color: hsl(201 96% 80%); /* Light blue for keys */
}

.text-lab-code-string {
  color: hsl(25 83% 63%); /* Orange for strings */
}

.text-lab-code-number {
  color: hsl(113 25% 71%); /* Light green for numbers */
}

.text-lab-code-boolean {
  color: hsl(207 82% 66%); /* Blue for booleans */
}

.text-lab-code-null {
  color: hsl(0 0% 50%); /* Gray for null */
}

/* Custom scrollbar for JSON editor */
.scrollbar-thin {
  scrollbar-width: thin;
}

.scrollbar-track-lab-code-bg::-webkit-scrollbar {
  width: 8px;
}

.scrollbar-track-lab-code-bg::-webkit-scrollbar-track {
  background: hsl(var(--lab-code-bg));
}

.scrollbar-thumb-lab-text-muted\/20::-webkit-scrollbar-thumb {
  background: hsl(var(--lab-text-muted) / 0.2);
  border-radius: 4px;
}

.scrollbar-thumb-lab-text-muted\/20::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--lab-text-muted) / 0.3);
}

/* Enhanced Updated Field Styling */
.field-updated {
  @apply bg-emerald-500/20 border border-emerald-400/50 rounded-md relative;
  box-shadow: 0 0 0 1px hsl(var(--lab-updated-border) / 0.3), 
              0 0 8px hsl(var(--lab-updated-glow) / 0.1);
}

.field-updated-primitive {
  @apply bg-emerald-500/15 border-l-2 border-l-emerald-400 relative;
}

/* Pulse animation for updated fields */
@keyframes updated-pulse {
  0%, 100% {
    opacity: 0.8;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.02);
  }
}

.field-updated-animate {
  animation: updated-pulse 2s ease-in-out infinite;
}

/* Cascade reveal animation */
@keyframes cascade-reveal {
  0% {
    opacity: 0;
    transform: translateY(6px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.cascade-reveal {
  animation: cascade-reveal 300ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.cascade-reveal-hidden {
  opacity: 0;
  transform: translateY(6px);
}
