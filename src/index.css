@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Google+Sans:wght@400;500;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Bria 4 Lab Design System - Minimalist Dark Mode Interface */

@layer base {
  :root {
    /* Bria Lab Dark Mode Colors */
    --lab-primary: 261 81% 71%; /* #8B5CF6 - Vibrant purple for primary actions */
    --lab-primary-hover: 261 81% 65%; /* Darker purple for hover states */
    --lab-primary-foreground: 0 0% 100%; /* White text on purple */
    --lab-primary-glow: 261 81% 71%; /* Purple glow for focus states */
    
    /* Dark Mode Background System */
    --lab-background: 216 4% 23%; /* #38393d - Dark gray background */
    --lab-surface: 216 13% 15%; /* #21252b - Darker gray for panels and cards */
    --lab-surface-elevated: 216 13% 17%; /* Slightly lighter for elevated surfaces */
    
    /* Dark Mode Text Hierarchy */
    --lab-text-primary: 217 33% 97%; /* #F3F4F6 - Light off-white for high readability */
    --lab-text-secondary: 220 14% 66%; /* #9CA3AF - Lighter grey for labels and secondary text */
    --lab-text-muted: 220 14% 56%; /* Slightly darker grey for muted text */
    
    /* Dark Mode Border System */
    --lab-border: 217 19% 27%; /* #374151 - Subtle grey borders */
    --lab-border-focus: 261 81% 71%; /* Purple focus states */
    --lab-border-hover: 217 19% 32%; /* Lighter grey for hover states */
    
    /* Status Colors (Dark Mode Adjusted) */
    --lab-success: 142 76% 46%; /* Brighter green for dark backgrounds */
    --lab-warning: 38 92% 60%; /* Brighter orange for dark backgrounds */
    --lab-error: 0 84% 70%; /* Brighter red for dark backgrounds */
    
    /* Dark Mode Interactive States */
    --lab-interactive-hover: 217 19% 24%; /* Subtle dark hover background */
    --lab-active: 217 19% 21%; /* Slightly darker active state */
    --lab-disabled: 217 19% 20%; /* Disabled background */
    --lab-accent: 261 81% 71%; /* Purple accent for interactive elements */
    
    /* Minimal Elevation (No Heavy Shadows) */
    --lab-glow-subtle: 0 0 0 1px hsl(var(--lab-border-hover));
    --lab-glow-focus: 0 0 0 2px hsl(var(--lab-primary-glow) / 0.3);
    --lab-glow-primary: 0 0 16px hsl(var(--lab-primary) / 0.2);
    
    /* Layout & Spacing (8px grid, 6px radius) */
    --lab-radius: 0.375rem; /* 6px sharp modern radius */
    --lab-radius-sm: 0.25rem; /* 4px for smaller elements */
    --lab-radius-lg: 0.5rem; /* 8px for larger cards */
    
    /* JSON Editor Dark Theme */
    --lab-code-bg: 220 43% 12%; /* Darker than main background */
    --lab-code-text: 217 33% 95%; /* Light text */
    --lab-code-highlight: 261 81% 76%; /* Brighter purple highlights */
    --lab-code-line: 217 19% 15%; /* Line number background */
    --lab-code-border: 217 19% 20%; /* Code editor border */
    
    /* Animation Timing */
    --lab-transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    --lab-transition-fast: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Apply Dark Mode theme to shadcn variables */
    --background: var(--lab-background);
    --foreground: var(--lab-text-primary);
    --card: var(--lab-surface);
    --card-foreground: var(--lab-text-primary);
    --popover: var(--lab-surface);
    --popover-foreground: var(--lab-text-primary);
    --primary: var(--lab-primary);
    --primary-foreground: var(--lab-primary-foreground);
    --secondary: var(--lab-hover);
    --secondary-foreground: var(--lab-text-primary);
    --muted: var(--lab-hover);
    --muted-foreground: var(--lab-text-secondary);
    --accent: var(--lab-active);
    --accent-foreground: var(--lab-text-primary);
    --destructive: var(--lab-error);
    --destructive-foreground: var(--lab-text-primary);
    --border: var(--lab-border);
    --input: var(--lab-border);
    --ring: var(--lab-border-focus);
    --radius: var(--lab-radius);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-roboto;
  }

  /* Updated field indicator - subtle left border */
  .field-updated {
    @apply relative border-l-2 pl-3;
    border-left-color: hsl(var(--lab-success));
    background: linear-gradient(90deg, hsl(var(--lab-success) / 0.08) 0%, transparent 100%);
  }

  /* Updated badge for groups/arrays */
  .update-badge {
    @apply inline-flex items-center gap-1 px-2 py-0.5 text-xs rounded-full border font-medium;
    background-color: hsl(var(--lab-success) / 0.1);
    border-color: hsl(var(--lab-success) / 0.3);
    color: hsl(var(--lab-success));
  }

  /* Previous value tooltip */
  .update-tooltip {
    @apply max-w-xs p-3 text-xs rounded-lg shadow-lg border;
    background-color: hsl(var(--lab-surface-elevated));
    border-color: hsl(var(--lab-border));
    color: hsl(var(--lab-text-primary));
  }

  .field-delta {
    @apply text-xs mt-1 p-2 rounded border;
    background-color: hsl(var(--lab-surface-elevated) / 0.5);
    border-color: hsl(var(--lab-border) / 0.5);
  }

  .delta-old {
    @apply line-through opacity-60;
    color: hsl(var(--lab-error) / 0.8);
  }

  .delta-new {
    @apply font-medium;
    color: hsl(var(--lab-success));
  }

  .delta-unchanged {
    @apply opacity-50;
  }

  @keyframes fade-in-scale {
    0% {
      opacity: 0;
      transform: scale(0.95);
    }
    100% {
      opacity: 1;
      transform: scale(1);
    }
  }

  .clear-updates-btn {
    @apply inline-flex items-center gap-2 px-3 py-1.5 text-xs transition-all duration-200;
    background-color: hsl(var(--lab-surface-elevated) / 0.8);
    color: hsl(var(--lab-text-secondary));
    border: 1px solid hsl(var(--lab-border) / 0.5);
    border-radius: var(--lab-radius);
  }

  .clear-updates-btn:hover {
    background-color: hsl(var(--lab-surface-elevated));
    color: hsl(var(--lab-text-primary));
    border-color: hsl(var(--lab-border) / 0.8);
  }

  /* Previous value display styles */
  .previous-value {
    @apply text-red-400 line-through opacity-75;
  }
  
  .current-value {
    @apply text-green-400 font-medium;
  }
  
  .value-arrow {
    @apply text-gray-400 mx-2;
  }
}

/* JSON Editor Syntax Highlighting */
.text-lab-code-key {
  color: hsl(201 96% 80%); /* Light blue for keys */
}

.text-lab-code-string {
  color: hsl(25 83% 63%); /* Orange for strings */
}

.text-lab-code-number {
  color: hsl(113 25% 71%); /* Light green for numbers */
}

.text-lab-code-boolean {
  color: hsl(207 82% 66%); /* Blue for booleans */
}

.text-lab-code-null {
  color: hsl(0 0% 50%); /* Gray for null */
}

/* Custom scrollbar for JSON editor */
.scrollbar-thin {
  scrollbar-width: thin;
}

.scrollbar-track-lab-code-bg::-webkit-scrollbar {
  width: 8px;
}

.scrollbar-track-lab-code-bg::-webkit-scrollbar-track {
  background: hsl(var(--lab-code-bg));
}

.scrollbar-thumb-lab-text-muted\/20::-webkit-scrollbar-thumb {
  background: hsl(var(--lab-text-muted) / 0.2);
  border-radius: 4px;
}

.scrollbar-thumb-lab-text-muted\/20::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--lab-text-muted) / 0.3);
}
